# HWT. Level 1: Balanced tree

Проект создан в рамках курса по $C$++ Константина Владимирова.

## Описание

Пусть на вход поступают ключи (каждый ключ это целое число, **все ключи
разные**) и запросы (каждый запрос это пара из двух целых чисел, **второе
больше первого**).

Нужно для каждого запроса подсчитать в дереве количество ключей, таких,
что все они лежат строго между его левой и правой границами включительно за `O(log(n))`.

## Требования
CMake с версией не меньше 3.11.

## Ввод/вывод
Со стандартного ввода программа получает строку вида:
```powershell
k 10 k 20 q 8 31 q 6 9 k 30 k 40 q 15 40
```

На выходе получаем количество ключей, таких, что все они лежат строго между его левой и правой границами включительно:
```powershell
2 0 3
```

## Компиляция
```powershell
cmake -S ./ -B build/ -DCMAKE_BUILD_TYPE=Release
cmake --build build/
```

Запуск google-тестов:
```bash
cd build/
./google_test
```

Запуск проекта:
```bash
cd build/
./tree < path_to_test
```

Также в проекте реализованы макросы `TIME` и  `GPAPHVIZ_DUMP`, которые можно использовать для вывода отладочной информации и замеров времени работы красно-чёрного дерева. Для активации макросов нужно добавить соответствующие `#define` в исходный код перед компиляцией.

Пример графического дампа:

![alt text](images/graphviz_dump.png)

<br>

## Сравнение скорости работы дерева и std::set
Перейдём в директорию `./statistics/`.

Для сравнения скорости был написан генератор "случайных" тестовых данных `./tree_gen.cpp`. 

С его помощью были сгенерированы 8 тестов в директории `./tests/` для разного размера входных данных. Обе реализации (`../src/main.cpp` для красно-чёрного дерева и `../src/set.cpp` для `std::set`) были запущены на этих тестах. Результаты работы на каждом тесте можно посмотреть в директориях `./RB_Tree-time/` и `./set-time/`.

Или обобщённую статистику можно посмотреть в файле `./time.txt`, в котором уже можно пронаблюдать насколько велико ускорение при использовании красно-чёрного дерева для задачи `RangeQuery`. Это предлагается пронаблюдать на графике:

![alt text](images/tree_vs_set_performance.png)